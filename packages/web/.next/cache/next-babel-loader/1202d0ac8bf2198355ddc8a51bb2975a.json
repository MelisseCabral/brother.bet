{"ast":null,"code":"import puppeteer from 'puppeteer';\nexport default class Scrapper {\n  static async getPageHTML(url, date = null) {\n    const browser = await puppeteer.launch({\n      headless: false\n    });\n    const page = await browser.newPage();\n    await page.goto(url, {\n      waitUntil: 'networkidle2'\n    });\n\n    if (date) {\n      await page.waitFor('#tb_date');\n      await page.evaluate(date => {\n        const input = document.querySelector('#tb_date');\n        var keyboardEvent = new KeyboardEvent('keydown', {\n          code: 'Enter',\n          key: 'Enter',\n          charKode: 13,\n          keyCode: 13,\n          view: window\n        });\n        input.click();\n        input.value = date;\n        input.dispatchEvent({});\n        document.querySelector('#tb_date').dispatchEvent({\n          code: 'Enter',\n          key: 'Enter',\n          charKode: 13,\n          keyCode: 13,\n          view: window\n        });\n      }, date);\n    }\n\n    const content = await page.content();\n    console.log(content); //await browser.close()\n\n    return content;\n  }\n\n}","map":{"version":3,"sources":["/Users/mel/Desktop/brother.bet/packages/web/src/pages/api/BotFifaArena/Scrapper.js"],"names":["puppeteer","Scrapper","getPageHTML","url","date","browser","launch","headless","page","newPage","goto","waitUntil","waitFor","evaluate","input","document","querySelector","keyboardEvent","KeyboardEvent","code","key","charKode","keyCode","view","window","click","value","dispatchEvent","content","console","log"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,WAAtB;AAEA,eAAe,MAAMC,QAAN,CAAe;AACJ,eAAXC,WAAW,CAACC,GAAD,EAAMC,IAAI,GAAG,IAAb,EAAmB;AACzC,UAAMC,OAAO,GAAG,MAAML,SAAS,CAACM,MAAV,CAAiB;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAjB,CAAtB;AACA,UAAMC,IAAI,GAAG,MAAMH,OAAO,CAACI,OAAR,EAAnB;AAEA,UAAMD,IAAI,CAACE,IAAL,CAAUP,GAAV,EAAe;AAAEQ,MAAAA,SAAS,EAAE;AAAb,KAAf,CAAN;;AACA,QAAIP,IAAJ,EAAU;AACR,YAAMI,IAAI,CAACI,OAAL,CAAa,UAAb,CAAN;AACA,YAAMJ,IAAI,CAACK,QAAL,CAAeT,IAAD,IAAU;AAC5B,cAAMU,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAd;AACA,YAAIC,aAAa,GAAG,IAAIC,aAAJ,CAAkB,SAAlB,EAA6B;AAC/CC,UAAAA,IAAI,EAAE,OADyC;AAE/CC,UAAAA,GAAG,EAAE,OAF0C;AAG/CC,UAAAA,QAAQ,EAAE,EAHqC;AAI/CC,UAAAA,OAAO,EAAE,EAJsC;AAK/CC,UAAAA,IAAI,EAAEC;AALyC,SAA7B,CAApB;AAOAV,QAAAA,KAAK,CAACW,KAAN;AACAX,QAAAA,KAAK,CAACY,KAAN,GAActB,IAAd;AACAU,QAAAA,KAAK,CAACa,aAAN,CAAoB,EAApB;AACAZ,QAAAA,QAAQ,CACLC,aADH,CACiB,UADjB,EAEGW,aAFH,CAEiB;AAAER,UAAAA,IAAI,EAAE,OAAR;AAAiBC,UAAAA,GAAG,EAAE,OAAtB;AAA+BC,UAAAA,QAAQ,EAAE,EAAzC;AAA6CC,UAAAA,OAAO,EAAE,EAAtD;AAA0DC,UAAAA,IAAI,EAAEC;AAAhE,SAFjB;AAGD,OAfK,EAeHpB,IAfG,CAAN;AAgBD;;AAED,UAAMwB,OAAO,GAAG,MAAMpB,IAAI,CAACoB,OAAL,EAAtB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ,EA1ByC,CA2BzC;;AACA,WAAOA,OAAP;AACD;;AA9B2B","sourcesContent":["import puppeteer from 'puppeteer'\n\nexport default class Scrapper {\n  static async getPageHTML(url, date = null) {\n    const browser = await puppeteer.launch({ headless: false })\n    const page = await browser.newPage()\n\n    await page.goto(url, { waitUntil: 'networkidle2' })\n    if (date) {\n      await page.waitFor('#tb_date')\n      await page.evaluate((date) => {\n        const input = document.querySelector('#tb_date');\n        var keyboardEvent = new KeyboardEvent('keydown', {\n          code: 'Enter',\n          key: 'Enter',\n          charKode: 13,\n          keyCode: 13,\n          view: window\n      });\n        input.click()\n        input.value = date\n        input.dispatchEvent({})\n        document\n          .querySelector('#tb_date')\n          .dispatchEvent({ code: 'Enter', key: 'Enter', charKode: 13, keyCode: 13, view: window })\n      }, date)\n    }\n\n    const content = await page.content()\n    console.log(content)\n    //await browser.close()\n    return content\n  }\n}\n"]},"metadata":{},"sourceType":"module"}