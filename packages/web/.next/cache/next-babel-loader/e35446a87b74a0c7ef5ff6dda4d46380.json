{"ast":null,"code":"import puppeteer from 'puppeteer';\nexport default class Scrapper {\n  static async getPageHTML(url, date = null) {\n    const browser = await puppeteer.launch();\n    const page = await browser.newPage();\n    await page.goto(url, {\n      waitUntil: 'networkidle2'\n    });\n\n    if (date) {\n      this.changeDateFifaArena(date, page);\n    }\n\n    const content = await page.content();\n    await browser.close();\n    return content;\n  }\n\n  static async getJSONData(url, date = null) {\n    const browser = await puppeteer.launch();\n    const page = await browser.newPage();\n    await page.goto('http://stats.cyberarena.live/results.aspx?tab=fifa21', {\n      waitUntil: 'networkidle2'\n    });\n\n    if (date) {\n      await page.evaluate(() => {\n        const input = document.getElementById('tb_date').setAttribute('value', date);\n        var ev = input.createEvent('KeyboardEvent');\n        ev.initKeyEvent('keydown', true, true, window, false, false, false, false, 13, 0);\n        input.dispatchEvent(ev);\n      });\n    }\n\n    const content = await page.content();\n    await browser.close();\n    return content;\n  }\n\n}","map":{"version":3,"sources":["/Users/mel/Desktop/brother.bet/packages/web/src/pages/api/BotFifaArena/Scrapper.js"],"names":["puppeteer","Scrapper","getPageHTML","url","date","browser","launch","page","newPage","goto","waitUntil","changeDateFifaArena","content","close","getJSONData","evaluate","input","document","getElementById","setAttribute","ev","createEvent","initKeyEvent","window","dispatchEvent"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,WAAtB;AAEA,eAAe,MAAMC,QAAN,CAAe;AACJ,eAAXC,WAAW,CAACC,GAAD,EAAMC,IAAI,GAAG,IAAb,EAAmB;AACzC,UAAMC,OAAO,GAAG,MAAML,SAAS,CAACM,MAAV,EAAtB;AACA,UAAMC,IAAI,GAAG,MAAMF,OAAO,CAACG,OAAR,EAAnB;AACA,UAAMD,IAAI,CAACE,IAAL,CAAUN,GAAV,EAAe;AAAEO,MAAAA,SAAS,EAAE;AAAb,KAAf,CAAN;;AAEA,QAAIN,IAAJ,EAAU;AACR,WAAKO,mBAAL,CAAyBP,IAAzB,EAA+BG,IAA/B;AACD;;AAED,UAAMK,OAAO,GAAG,MAAML,IAAI,CAACK,OAAL,EAAtB;AAEA,UAAMP,OAAO,CAACQ,KAAR,EAAN;AACA,WAAOD,OAAP;AACD;;AAEuB,eAAXE,WAAW,CAACX,GAAD,EAAMC,IAAI,GAAG,IAAb,EAAmB;AACzC,UAAMC,OAAO,GAAG,MAAML,SAAS,CAACM,MAAV,EAAtB;AACA,UAAMC,IAAI,GAAG,MAAMF,OAAO,CAACG,OAAR,EAAnB;AACA,UAAMD,IAAI,CAACE,IAAL,CAAU,sDAAV,EAAkE;AACtEC,MAAAA,SAAS,EAAE;AAD2D,KAAlE,CAAN;;AAIA,QAAIN,IAAJ,EAAU;AACR,YAAMG,IAAI,CAACQ,QAAL,CAAc,MAAM;AACxB,cAAMC,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,YAAnC,CAAgD,OAAhD,EAAyDf,IAAzD,CAAd;AACA,YAAIgB,EAAE,GAAGJ,KAAK,CAACK,WAAN,CAAkB,eAAlB,CAAT;AACAD,QAAAA,EAAE,CAACE,YAAH,CAAgB,SAAhB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuCC,MAAvC,EAA+C,KAA/C,EAAsD,KAAtD,EAA6D,KAA7D,EAAoE,KAApE,EAA2E,EAA3E,EAA+E,CAA/E;AACAP,QAAAA,KAAK,CAACQ,aAAN,CAAoBJ,EAApB;AACD,OALK,CAAN;AAMD;;AAED,UAAMR,OAAO,GAAG,MAAML,IAAI,CAACK,OAAL,EAAtB;AACA,UAAMP,OAAO,CAACQ,KAAR,EAAN;AAEA,WAAOD,OAAP;AACD;;AApC2B","sourcesContent":["import puppeteer from 'puppeteer'\n\nexport default class Scrapper {\n  static async getPageHTML(url, date = null) {\n    const browser = await puppeteer.launch()\n    const page = await browser.newPage()\n    await page.goto(url, { waitUntil: 'networkidle2' })\n\n    if (date) {\n      this.changeDateFifaArena(date, page)\n    }\n\n    const content = await page.content()\n\n    await browser.close()\n    return content\n  }\n\n  static async getJSONData(url, date = null) {\n    const browser = await puppeteer.launch()\n    const page = await browser.newPage()\n    await page.goto('http://stats.cyberarena.live/results.aspx?tab=fifa21', {\n      waitUntil: 'networkidle2',\n    })\n\n    if (date) {\n      await page.evaluate(() => {\n        const input = document.getElementById('tb_date').setAttribute('value', date)\n        var ev = input.createEvent('KeyboardEvent')\n        ev.initKeyEvent('keydown', true, true, window, false, false, false, false, 13, 0)\n        input.dispatchEvent(ev)\n      })\n    }\n\n    const content = await page.content()\n    await browser.close()\n\n    return content\n  }\n}\n"]},"metadata":{},"sourceType":"module"}