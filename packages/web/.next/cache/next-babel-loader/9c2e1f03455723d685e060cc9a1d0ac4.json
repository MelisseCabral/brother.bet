{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport puppeteer from 'puppeteer';\nexport default class Scrapper {\n  constructor() {\n    _defineProperty(this, \"constro\", void 0);\n  }\n\n  static async getPageHTML(url, date = null) {\n    const browser = await puppeteer.launch({\n      headless: false\n    });\n    const page = await browser.newPage();\n    await page.goto(url, {\n      waitUntil: 'networkidle2'\n    });\n\n    if (date) {\n      for (let i = 0; i < 20; i++) {\n        await page.keyboard.press('Backspace');\n      }\n\n      await page.focus('#tb_date');\n      await page.keyboard.type(date);\n\n      for (let i = 0; i < 10; i++) {\n        await page.keyboard.press('Delete');\n      }\n\n      await page.focus('body');\n    }\n\n    await page.$eval('input[name=tb_date]', e => e.blur());\n    await this.delay(9000);\n    const content = await page.content();\n    await browser.close();\n    return content;\n  }\n\n  delay(time) {\n    return new Promise(function (resolve) {\n      setTimeout(resolve, time);\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/mel/Desktop/brother.bet/packages/web/src/pages/api/BotFifaArena/Scrapper.js"],"names":["puppeteer","Scrapper","getPageHTML","url","date","browser","launch","headless","page","newPage","goto","waitUntil","i","keyboard","press","focus","type","$eval","e","blur","delay","content","close","time","Promise","resolve","setTimeout"],"mappings":";;AAAA,OAAOA,SAAP,MAAsB,WAAtB;AAEA,eAAe,MAAMC,QAAN,CAAe;AAAA;AAAA;AAAA;;AAEJ,eAAXC,WAAW,CAACC,GAAD,EAAMC,IAAI,GAAG,IAAb,EAAmB;AACzC,UAAMC,OAAO,GAAG,MAAML,SAAS,CAACM,MAAV,CAAiB;AAACC,MAAAA,QAAQ,EAAG;AAAZ,KAAjB,CAAtB;AACA,UAAMC,IAAI,GAAG,MAAMH,OAAO,CAACI,OAAR,EAAnB;AAEA,UAAMD,IAAI,CAACE,IAAL,CAAUP,GAAV,EAAe;AAAEQ,MAAAA,SAAS,EAAE;AAAb,KAAf,CAAN;;AACA,QAAIP,IAAJ,EAAU;AACR,WAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,cAAMJ,IAAI,CAACK,QAAL,CAAcC,KAAd,CAAoB,WAApB,CAAN;AACD;;AACD,YAAMN,IAAI,CAACO,KAAL,CAAW,UAAX,CAAN;AACA,YAAMP,IAAI,CAACK,QAAL,CAAcG,IAAd,CAAmBZ,IAAnB,CAAN;;AACA,WAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,cAAMJ,IAAI,CAACK,QAAL,CAAcC,KAAd,CAAoB,QAApB,CAAN;AACD;;AACD,YAAMN,IAAI,CAACO,KAAL,CAAW,MAAX,CAAN;AACD;;AAED,UAAMP,IAAI,CAACS,KAAL,CAAW,qBAAX,EAAkCC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAAvC,CAAN;AACA,UAAM,KAAKC,KAAL,CAAW,IAAX,CAAN;AAEA,UAAMC,OAAO,GAAG,MAAMb,IAAI,CAACa,OAAL,EAAtB;AACA,UAAMhB,OAAO,CAACiB,KAAR,EAAN;AACA,WAAOD,OAAP;AACD;;AAEDD,EAAAA,KAAK,CAACG,IAAD,EAAM;AACT,WAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkB;AAClCC,MAAAA,UAAU,CAACD,OAAD,EAAUF,IAAV,CAAV;AACH,KAFO,CAAP;AAGD;;AA/B2B","sourcesContent":["import puppeteer from 'puppeteer'\n\nexport default class Scrapper {\n  constro\n  static async getPageHTML(url, date = null) {\n    const browser = await puppeteer.launch({headless : false})\n    const page = await browser.newPage()\n\n    await page.goto(url, { waitUntil: 'networkidle2' })\n    if (date) {\n      for (let i = 0; i < 20; i++) {\n        await page.keyboard.press('Backspace')\n      }\n      await page.focus('#tb_date')\n      await page.keyboard.type(date)\n      for (let i = 0; i < 10; i++) {\n        await page.keyboard.press('Delete')\n      }\n      await page.focus('body')\n    }\n\n    await page.$eval('input[name=tb_date]', e => e.blur());\n    await this.delay(9000)\n    \n    const content = await page.content();\n    await browser.close()\n    return content\n  }\n\n  delay(time){\n    return new Promise(function(resolve) { \n       setTimeout(resolve, time)\n   });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}