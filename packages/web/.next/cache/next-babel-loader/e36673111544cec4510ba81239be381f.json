{"ast":null,"code":"const cheerio = require('cheerio');\n\nexport default class FactoryFifaArena {\n  static async getGamesResult(data) {\n    const $ = cheerio.load(data);\n    const lines = [];\n    $('table').each((i, element) => {\n      console.log($(element).find('caption').text());\n\n      if ($(element).find('caption').text().split('CLA').length - 1 === 1) {\n        $(element).find('tbody').find('tr').each((index, tRow) => {\n          if (index > 0 && $(tRow).find('td:nth-child(4)').text().split(':').length > 2) {\n            const scores = this.getScores($(tRow).find('td:nth-child(4)').text());\n            lines.push({\n              time: $(tRow).find('td:nth-child(1)').text(),\n              video: $(tRow).find('td:nth-child(7)').find('a').attr('href') || '#',\n              teamA: {\n                team: $(tRow).find('td:nth-child(2)').text(),\n                user: $(tRow).find('td:nth-child(3)').text(),\n                firstHalf: +scores.firstHalf[0],\n                secondHalf: +scores.secondHalf[0] - +scores.firstHalf[0]\n              },\n              teamB: {\n                team: $(tRow).find('td:nth-child(5)').text(),\n                user: $(tRow).find('td:nth-child(6)').text(),\n                firstHalf: +scores.firstHalf[1],\n                secondHalf: +scores.secondHalf[1] - +scores.firstHalf[1]\n              }\n            });\n          }\n        });\n      }\n    });\n    return lines;\n  }\n\n  getScores(line) {\n    const firstHalf = this.getInParentesis(line).split(':').map(each => Number.parseInt(each, 10));\n    const secondHalf = this.getBeforeParentesis(line).split(':').map(each => Number.parseInt(each, 10));\n    return {\n      firstHalf,\n      secondHalf\n    };\n  }\n\n}","map":{"version":3,"sources":["/Users/mel/Desktop/brother.bet/packages/web/src/pages/api/BotFifaArena/FactoryFifaArena.js"],"names":["cheerio","require","FactoryFifaArena","getGamesResult","data","$","load","lines","each","i","element","console","log","find","text","split","length","index","tRow","scores","getScores","push","time","video","attr","teamA","team","user","firstHalf","secondHalf","teamB","line","getInParentesis","map","Number","parseInt","getBeforeParentesis"],"mappings":"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","sourcesContent":["const cheerio = require('cheerio');\n\nexport default class FactoryFifaArena {\n\n  static async getGamesResult(data) {\n    const $ =  cheerio.load(data);\n    const lines = [];\n\n    $('table').each((i, element) => {\n      console.log($(element).find('caption').text())\n      if ($(element).find('caption').text().split('CLA').length - 1 === 1) {\n        $(element)\n          .find('tbody')\n          .find('tr')\n          .each((index, tRow) => {\n            if (index > 0 && $(tRow).find('td:nth-child(4)').text().split(':').length > 2) {\n              const scores = this.getScores($(tRow).find('td:nth-child(4)').text())\n\n              lines.push({\n                time: $(tRow).find('td:nth-child(1)').text(),\n                video: $(tRow).find('td:nth-child(7)').find('a').attr('href') || '#',\n                teamA: {\n                  team: $(tRow).find('td:nth-child(2)').text(),\n                  user: $(tRow).find('td:nth-child(3)').text(),\n                  firstHalf: +scores.firstHalf[0],\n                  secondHalf: +scores.secondHalf[0] - +scores.firstHalf[0],\n                },\n                teamB: {\n                  team: $(tRow).find('td:nth-child(5)').text(),\n                  user: $(tRow).find('td:nth-child(6)').text(),\n                  firstHalf: +scores.firstHalf[1],\n                  secondHalf: +scores.secondHalf[1] - +scores.firstHalf[1],\n                },\n              })\n            }\n          })\n      }\n    });\n\n    return lines\n  }\n\n  getScores(line) {\n    const firstHalf = this.getInParentesis(line)\n      .split(':')\n      .map((each) => Number.parseInt(each, 10));\n    const secondHalf = this.getBeforeParentesis(line)\n      .split(':')\n      .map((each) => Number.parseInt(each, 10));\n    return { firstHalf, secondHalf };\n  }\n}\n"]},"metadata":{},"sourceType":"module"}